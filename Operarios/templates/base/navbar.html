{% load static %}
{% url 'home' as home_url %}
{% url 'Operarios:planificar_list' as planificacion_url %}
{% url 'Operarios:asignacion_list' as asignacion_url %}
{% url 'Operarios:puntoServicio_list' as punto_servicio_url %}
{% url 'Operarios:servicio_aprobado' as servicio_aprobado_url %}
{% url 'Operarios:operarios_vista' as operarios_url %}
{% url 'Operarios:jefes_list' as jefes_url %}
{% url 'Operarios:marcaciones_url' as marcaciones_url %}
{% url 'Operarios:feriados_url' as feriados_url %}
{% url 'Operarios:fiscales_list' as fiscales_url %} 
{% url 'remplazos' as remplazos_url %}
{% url 'Operarios:alertas_list' as alertas_url %}

<script>

$("#salir").on('click',"a[data-window='external']", function() {
    window.open($(this).attr('href')); 
    return false; 
});
</script>
<nav class="navbar navbar-expand-md navbar-dark mb-4" style="background-color: #7A0C25;">
    <div class='container' style="width: 100% !important;
    max-width: 100%;">
        <a class="navbar-brand" href="{{ home_url }}">
            <img src="{% static 'logo-blanco.png' %}" height="30" class="d-inline-block align-top" alt="El mejor">
        </a>
        <button class='navbar-toggler' type='button' data-toggle='collapse' data-target='#navbarCollapseLinks' aria-expanded='false' aria-label='Toggle Navigation'>
            <span class='navbar-toggler-icon'></span>
        </button>

        <div class="collapse navbar-collapse " id="navbarCollapseLinks">
            <ul class="navbar-nav mr-auto ">
                <li class="nav-item dropdown ">
                    <a class="nav-link dropdown-toggle estilo-menu" href="" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Clientes
                    </a>
                    <div class="dropdown-menu dropdown-menu-left submenu" aria-labelledby="navbarDropdownMenuLink">
                        <a class="dropdown-item submenu-a" href="{{ punto_servicio_url }}">Puntos de Servicio</a>
                        <a class="dropdown-item submenu-a" href="{{ servicio_aprobado_url }}">Servicios aprobados</a>
                    </div>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle estilo-menu" href="" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Operaciones
                    </a>
                    <div class="dropdown-menu dropdown-menu-left submenu" aria-labelledby="navbarDropdownMenuLink">
                        <a class="dropdown-item submenu-a" href="{{ operarios_url }}">Operarios</a>
                        <a class="dropdown-item submenu-a" href="{{ planificacion_url }}">Planificación</a>
                        <a class="dropdown-item submenu-a" href="{{ asignacion_url }}">Asig. Operarios</a>
                        <a class="dropdown-item submenu-a" href="/reingenieria/operaciones/jefes/listar">Asig. Jefes</a> 
                        <a class="dropdown-item submenu-a" href="/reingenieria/operaciones/fiscales/listar">Asig. Fiscales</a>
                        <a class="dropdown-item submenu-a" href="{{ feriados_url}}">Asig. Feriados</a>
                    </div> 
                </li>
                <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle estilo-menu" href="" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Alertas
                        </a>
                        <div class="dropdown-menu dropdown-menu-left submenu" aria-labelledby="navbarDropdownMenuLink">
                            <a class="dropdown-item submenu-a" href="{{ alertas_url }}">1er Nivel</a>
                            <a class="dropdown-item submenu-a" href="{{ remplazos_url }">2do Nivel</a>
                            <a class="dropdown-item submenu-a" href="{{marcaciones_url}}">Marcaciones</a>
                            <a class="dropdown-item submenu-a" href="{{ feriados_url}}">Asig. Feriados</a>
                            <a class="dropdown-item submenu-a" href="#">Horas sin Asig</a>
                        </div> 
                </li>
                <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle estilo-menu" href="http://example.com" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Reportes
                        </a>
                        <div class="dropdown-menu dropdown-menu-left submenu" aria-labelledby="navbarDropdownMenuLink">
                        <a class="dropdown-item submenu-a" href="#">Control cupo</a>
                        <a class="dropdown-item submenu-a" href="#">Resumen op</a>
                        <a class="dropdown-item submenu-a" href="#">Reporte N</a>
                        
                        <!--a class="dropdown-item" href="#" data-toggle="modal" data-target="#logoutModal">Logout</a-->
                        </div>
                </li>
            </ul>
            <ul class="navbar-nav">
                <li class="navbar-nav">
                    <a class="estilo-username">{{request.user.username}}<i class="fa fa-user fa-lg estilo-icono-user"></i></a>
                </li>
            </ul><ul class="navbar-nav ">
                <li class="nav-item" ></li>
                    <a class="nav-link estilo-menu estilo-logout" href="{% url 'logout' %}">Salir <i class="fa fa-sign-out fa-lg"></i></a>
                </li>
            </ul>
            
        </div>

        <!-- Small modal -->
        <div class="modal" id="logoutModal" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-sm">
            <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                <h4>Salir <i class="fa fa-lock"></i></h4>
            </div>
            <div class="modal-body">
                <p><i class="fa fa-question-circle"></i> Esta seguro que desea salir? <br /></p>
                <div class="actionsBtns">
                        <a id='salir' href="{% url 'logout' %}" class="btn btn-primary" data-dismiss="modal" value="Logout" data-window="external" />Logout</a>
                        <button class="btn btn-default" data-dismiss="modal">Cancel</button>

                </div>
            </div>
            </div>
        </div>
        </div>

    </div>
</nav>



<style>

    .estilo-menu{
        color:white !important;

    }

    .estilo-username {
        color: #ddd !important;
        padding-right:20px; 
    }

    .estilo-logout{
        padding-right: 0 !important;
        font-size: 1.2rem;
    }

    .estilo-icono-user{
        padding-left: 10px;
        font-size: 18px;
    }

    .submenu{
        margin: .5rem 0 !important;
        background: #7A0C25;
    }

    .submenu-a{
        color:white !important;
    }

    .submenu-a:hover{
        background-color: #2125293b;
    }



  /* .topnav{
        overflow: hidden;
        background-color: #333;
        }
        
        .topnav a{
        float: left;
        display: block;
        color:white;
        text-align: center;
        padding: 14px 16px;
        text-decoration: none;
        font-size: 17px;
        }
        
        .topnav .icon{
        display: none;
        }
        
        .dropdown{
        float: left;
        overflow: hidden;
        }
        
        .dropdown .dropbtn{
        font-size: 17px;
        border: none;
        outline: none;
        color:white;
        padding: 14px 16px;
        background-color: inherit;
        font-family: inherit;
        margin: 0;
        }
        
        .dropdown-content{
            display: inline-block;
            position: absolute;
            background-color: white;
            min-width: 160px;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0,2);
            z-index: 1;
        }
        
        .dropdown-content a{
            float: none;
            color: black;
            padding: 12px 16px;
            text-decoration: none;
            display: block;
            text-align: left;
        }
        
        .topnav a:hover, .dropdown:hover .dropbtn{
            background-color: #555;
            color:white;
        }
        
        .dropdown-content a:hover{
            background-color: #ddd;
            color:black;
        }
        
        .dropdown:hover .dropdown-content{
            display: block;
        }
        
        
        @media screen and (max-width:600px){
        .topnav a:not(:first-child), .dropdown .dropbtn{
        display: none;
        }
        
        .topnav a.icon{
        float: right;
        display: block;
        }
        }
        
        
        @media screen and (max-width:600px){
        .topnav.responsive{
        position: relative;
        }
        
        
        .topnav.responsive .icon{
        position: absolute;
        right: 0;
        top:0;
        }
        
        .topnav.responsive a
        {
        float: none;
        display: block;
        text-align: left;
        }
        
        .topnav.responsive .dropdown
        {
        float: none;
        }
        
        .topnav.responsive .dropdown-content
        {
        position:relative;
        }
        
        .topnav.responsive .dropdown .dropbtn
        {
        display: block;
        width: 100%;
        text-align: left;
        }
        
        } */
        
        
        
        
        </style>
